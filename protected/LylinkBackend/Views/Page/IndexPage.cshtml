@using LylinkBackend_API.Models
@model LylinkBackend_API.Models.IndexPage

<!DOCTYPE html>
<html lang="en">
    <head>
        @await Html.PartialAsync("HeadContent", new HeadContent()
    {
        Description = "Lylink - Management",
        Keywords = "lylink, management",
        Title = "Lylink - Management",
    })
    </head>
    <body>
        <div id="adblock-background"></div>
        <div id="adblock-popup">
            <p>Hey, it looks like a resource failed to load. If you have an ad-blocker, please turn it off.</p>
            <p>This site will never have ads. Please turn off your ad-blocker so my stylesheets load properly.</p>
            <p>Thank you.</p>
            <button onclick="closePopup()">Close</button>
        </div>
        <div id="page-container">
            @await Html.PartialAsync(nameof(SiteColorToggle), new SiteColorToggle
            {
            })
            <div id="content-wrap">
                <header>
                   @await Html.PartialAsync("PageHeader", new PageHeader
                   {
                       Name = Model.PageName,
                       ParentCategories = Model.ParentCategories
                   })
                </header>

                <div class="container">
                    <main>
                        @Html.Raw(Model.Body)

                        <h3>Sub-categories</h3>
                        <ul>
                            @foreach (var postCategory in Model.SubCategories)
                            {
                                <li>
                                    <a href="@postCategory.Slug">@postCategory.Name</a>
                                </li>
                            }
                        </ul>

                        <h3>Posts</h3>
                        <ul>
                            @foreach (var posts in Model.Posts)
                            {
                                <li>
                                    <a href="@posts.Slug">@posts.Name</a>
                                </li>
                            }
                        </ul>

                        <h3>Most recently updated posts</h3>
                        <ul>
                            @foreach (var posts in Model.MostRecentPosts)
                            {
                                <li>
                                    <a href="@posts.Slug">@posts.Name</a>
                                </li>
                            }
                        </ul>
                    </main>
                </div>
            </div>
            <footer>
                <p>Copyright 2024, All Rights Reserved</p>
            </footer>

            <script defer>
                let FF_FOUC_FIX;
            </script>
        </div>
    </body>
</html>
